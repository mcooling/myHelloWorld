{"$schema":"http://json-schema.org/draft-04/schema#","title":"Pmd Specification","type":"object","additionalProperties":false,"properties":{"appId":{"type":"string"},"pmdId":{"type":"string"},"expressionTests":{"type":"array","items":{"$ref":"#/definitions/PmdExpressionTest"}},"userTests":{"type":"array","items":{"$ref":"#/definitions/PmdUserTest"}}},"required":["appId","pmdId","expressionTests","userTests"],"definitions":{"PmdExpressionTest":{"type":"object","additionalProperties":false,"properties":{"description":{"type":"string"},"tagId":{"type":"string"},"property":{"type":"string"},"variables":{"type":"object","additionalProperties":{}},"expectedValue":{}},"required":["description","tagId","property","variables"]},"PmdUserTest":{"type":"object","additionalProperties":false,"properties":{"description":{"type":"string"},"taskRoute":{"$ref":"#/definitions/TaskRoute"},"steps":{"type":"array","items":{"$ref":"#/definitions/UserTestStep"}},"endPointResponses":{"type":"array","items":{"$ref":"#/definitions/EndPointMock"}}},"required":["description","taskRoute","steps","endPointResponses"]},"TaskRoute":{"type":"object","additionalProperties":false,"properties":{"taskId":{"type":"string"},"routeParameters":{"type":"array","items":{"$ref":"#/definitions/TaskParameter"}}},"required":["taskId","routeParameters"]},"TaskParameter":{"type":"object","additionalProperties":false,"properties":{"name":{"type":"string"},"value":{"type":"string"}},"required":["name","value"]},"UserTestStep":{"type":"object","additionalProperties":false,"properties":{"id":{"type":"string"},"descriptor":{"type":"string"},"interaction":{"$ref":"#/definitions/InteractionContainer"},"verifications":{"type":"array","items":{"$ref":"#/definitions/AssertionsContainer"}}},"required":["verifications"]},"InteractionContainer":{"type":"object","additionalProperties":false,"properties":{"inputSimpleValue":{"$ref":"#/definitions/SimpleValueSetInteractionApi"},"instanceList":{"oneOf":[{"$ref":"#/definitions/InstanceListReplace"},{"$ref":"#/definitions/InstanceListAddOne"},{"$ref":"#/definitions/InstanceListRemoveOne"}]},"grid":{"$ref":"#/definitions/GridInteractionApi"},"panel":{"$ref":"#/definitions/PanelInteractionApi"},"page":{"oneOf":[{"$ref":"#/definitions/CancelInteractionApi"},{"$ref":"#/definitions/SubmitInteractionApi"}]},"file":{"$ref":"#/definitions/FileInteractionApi"},"search":{"$ref":"#/definitions/SearchInteractionApi"},"interaction":{"$ref":"#/definitions/InteractionApi"}}},"SimpleValueSetInteractionApi":{"type":"object","additionalProperties":false,"properties":{"id":{"type":"string"},"text":{"type":"string"},"number":{"type":"number"},"checked":{"type":"boolean"},"date":{"$ref":"#/definitions/SimpleDate"}},"required":["id"]},"SimpleDate":{"type":"object","additionalProperties":false,"properties":{"year":{"type":"string"},"month":{"type":"string"},"day":{"type":"string"},"hour":{"type":"string"},"minute":{"type":"string"},"second":{"type":"string"}},"required":["year","month","day"]},"InstanceListReplace":{"type":"object","additionalProperties":false,"properties":{"type":{"type":"string","enum":["replaceInstances"],"default":"replaceInstances"},"id":{"type":"string"},"instances":{"type":"array","items":{"$ref":"#/definitions/Instance"}}},"title":"replaceInstances","required":["type","id","instances"]},"Instance":{"type":"object","additionalProperties":false,"properties":{"id":{"type":"string"},"descriptor":{"type":"string"}},"required":["id"]},"InstanceListAddOne":{"type":"object","additionalProperties":false,"properties":{"type":{"type":"string","enum":["addOneInstance"],"default":"addOneInstance"},"id":{"type":"string"},"instance":{"$ref":"#/definitions/Instance"}},"title":"addOneInstance","required":["type","id","instance"]},"InstanceListRemoveOne":{"type":"object","additionalProperties":false,"properties":{"type":{"type":"string","enum":["removeOneInstance"],"default":"removeOneInstance"},"id":{"type":"string"},"instance":{"$ref":"#/definitions/Instance"}},"title":"removeOneInstance","required":["type","id","instance"]},"GridInteractionApi":{"type":"object","additionalProperties":false,"properties":{}},"PanelInteractionApi":{"type":"object","additionalProperties":false,"properties":{}},"CancelInteractionApi":{"type":"object","additionalProperties":false,"properties":{"type":{"type":"string","enum":["cancel"],"default":"cancel"}},"title":"cancel","required":["type"]},"SubmitInteractionApi":{"type":"object","additionalProperties":false,"properties":{"type":{"type":"string","enum":["submit"],"default":"submit"}},"title":"submit","required":["type"]},"FileInteractionApi":{"type":"object","additionalProperties":false,"properties":{}},"SearchInteractionApi":{"type":"object","additionalProperties":false,"properties":{}},"InteractionApi":{"type":"object","additionalProperties":false,"properties":{}},"AssertionsContainer":{"type":"object","additionalProperties":false,"properties":{"id":{"type":"string"},"checkBoxAssertions":{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/CheckBoxValueAssertion"}]}},"dateAssertions":{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/DateValueAssertion"}]}},"instanceListAssertions":{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/InstanceListSelectedInstancesAssertion"},{"$ref":"#/definitions/InstanceListInstancesAssertion"}]}},"numberAssertions":{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/NumberValueAssertion"}]}},"textAssertions":{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/TextValueRegexAssertion"},{"$ref":"#/definitions/TextValueAssertion"}]}},"urlAssertions":{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/PathParamtersAssertion"},{"$ref":"#/definitions/PathEqualsAssertion"},{"$ref":"#/definitions/ComponentsOfURLAssertion"},{"$ref":"#/definitions/TaskPathAssertion"}]}},"labelAssertions":{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/TextValueRegexAssertion"},{"$ref":"#/definitions/TextValueAssertion"}]}},"displayTextAssertions":{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/TextValueRegexAssertion"},{"$ref":"#/definitions/TextValueAssertion"}]}},"layoutAssertions":{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/IsInFooterAssertion"},{"$ref":"#/definitions/IsInTabAssertion"},{"$ref":"#/definitions/IsATabAssertion"}]}},"submitAssertions":{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/OutboundContentAssertion"},{"$ref":"#/definitions/OutboundRequestDetailsAssertion"},{"$ref":"#/definitions/OutboundWasNotRequestedAssertion"}]}},"validationAssertions":{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/ExceptionIsRenderedAssertion"}]}}},"required":["id"]},"CheckBoxValueAssertion":{"type":"object","additionalProperties":false,"properties":{"type":{"type":"string","enum":["valueEquals"],"default":"valueEquals"},"expectedValue":{"type":"boolean"}},"title":"valueEquals","required":["type","expectedValue"]},"DateValueAssertion":{"type":"object","additionalProperties":false,"properties":{"type":{"type":"string","enum":["valueIs"],"default":"valueIs"},"expectedValue":{"type":"string"}},"title":"valueIs","required":["type","expectedValue"]},"InstanceListSelectedInstancesAssertion":{"type":"object","additionalProperties":false,"properties":{"type":{"type":"string","enum":["selectedInstancesEquals"],"default":"selectedInstancesEquals"},"instances":{"type":"array","items":{"$ref":"#/definitions/InstanceApi"}}},"title":"selectedInstancesEquals","required":["type","instances"]},"InstanceApi":{"type":"object","additionalProperties":false,"properties":{"id":{"type":"string"},"descriptor":{"type":"string"}},"required":["id"]},"InstanceListInstancesAssertion":{"type":"object","additionalProperties":false,"properties":{"type":{"type":"string","enum":["instancesEquals"],"default":"instancesEquals"},"instances":{"type":"array","items":{"$ref":"#/definitions/InstanceApi"}}},"title":"instancesEquals","required":["type","instances"]},"NumberValueAssertion":{"type":"object","additionalProperties":false,"properties":{"type":{"type":"string","enum":["valueEquals"],"default":"valueEquals"},"expectedValue":{"type":"number"}},"title":"valueEquals","required":["type","expectedValue"]},"TextValueRegexAssertion":{"type":"object","additionalProperties":false,"properties":{"type":{"type":"string","enum":["regexMatches"],"default":"regexMatches"},"regex":{"type":"string"}},"title":"regexMatches","required":["type","regex"]},"TextValueAssertion":{"type":"object","additionalProperties":false,"properties":{"type":{"type":"string","enum":["valueEquals"],"default":"valueEquals"},"expectedValue":{"type":"string"}},"title":"valueEquals","required":["type","expectedValue"]},"PathParamtersAssertion":{"type":"object","additionalProperties":false,"properties":{"type":{"type":"string","enum":["pathParameters"],"default":"pathParameters"}},"title":"pathParameters","required":["type"]},"PathEqualsAssertion":{"type":"object","additionalProperties":false,"properties":{"type":{"type":"string","enum":["pathEquals"],"default":"pathEquals"},"route":{"type":"string"},"parameters":{"type":"object","additionalProperties":{"type":"string"}}},"title":"pathEquals","required":["type","route"]},"ComponentsOfURLAssertion":{"type":"object","additionalProperties":false,"properties":{"type":{"type":"string","enum":["assertComponents"],"default":"assertComponents"}},"title":"assertComponents","required":["type"]},"TaskPathAssertion":{"type":"object","additionalProperties":false,"properties":{"type":{"type":"string","enum":["taskPathEquals"],"default":"taskPathEquals"},"route":{"type":"string"},"parameters":{"type":"object","additionalProperties":{"type":"string"}}},"title":"taskPathEquals","required":["type","route"]},"IsInFooterAssertion":{"type":"object","additionalProperties":false,"properties":{"type":{"type":"string","enum":["isInFooter"],"default":"isInFooter"}},"title":"isInFooter","required":["type"]},"IsInTabAssertion":{"type":"object","additionalProperties":false,"properties":{"type":{"type":"string","enum":["isInTab"],"default":"isInTab"},"tabIndex":{"type":"integer"}},"title":"isInTab","required":["type","tabIndex"]},"IsATabAssertion":{"type":"object","additionalProperties":false,"properties":{"type":{"type":"string","enum":["isATab"],"default":"isATab"},"tabIndex":{"type":"integer"}},"title":"isATab","required":["type","tabIndex"]},"OutboundContentAssertion":{"type":"object","additionalProperties":false,"properties":{"type":{"type":"string","enum":["payloadEquals"],"default":"payloadEquals"},"url":{"type":"string"},"expected":{}},"title":"payloadEquals","required":["type","url"]},"OutboundRequestDetailsAssertion":{"type":"object","additionalProperties":false,"properties":{"type":{"type":"string","enum":["assertRequestDetails"],"default":"assertRequestDetails"},"url":{"type":"string"},"requestDetails":{"$ref":"#/definitions/RequestDetails"}},"title":"assertRequestDetails","required":["type","url","requestDetails"]},"RequestDetails":{"type":"object","additionalProperties":false,"properties":{"url":{"type":"string"},"endpointName":{"type":"string"},"httpType":{"type":"string"},"headers":{"type":"object","additionalProperties":{"type":"string"}},"authentication":{"type":"string"},"body":{"type":"string"},"queryParameters":{"type":"object","additionalProperties":{"type":"string"}}},"required":["url"]},"OutboundWasNotRequestedAssertion":{"type":"object","additionalProperties":false,"properties":{"type":{"type":"string","enum":["assertNoRequest"],"default":"assertNoRequest"},"url":{"type":"string"}},"title":"assertNoRequest","required":["type","url"]},"ExceptionIsRenderedAssertion":{"type":"object","additionalProperties":false,"properties":{"type":{"type":"string","enum":["isAlertDisplayed"],"default":"isAlertDisplayed"},"severity":{"type":"string"}},"title":"isAlertDisplayed","required":["type","severity"]},"EndPointMock":{"type":"object","additionalProperties":false,"properties":{"name":{"type":"string"},"url":{"type":"string"},"responseBody":{}},"required":["name","url"]}}}